[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Workspace",
    "section": "",
    "text": "Welcome\nThis is my Quarto Book 1 notebook website for future self.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#footnotes",
    "href": "index.html#footnotes",
    "title": "Workspace",
    "section": "",
    "text": "Quarto Books Documentation↩︎",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "src/notes/_notes.html",
    "href": "src/notes/_notes.html",
    "title": "Notes",
    "section": "",
    "text": "This section contains notes on different topics.",
    "crumbs": [
      "Notes"
    ]
  },
  {
    "objectID": "src/notes/file_org.html",
    "href": "src/notes/file_org.html",
    "title": "File Organization",
    "section": "",
    "text": "Here are few recommentation to follow when starting a new computational project.\n\nWhen starting a computational project, following a well-documented structure will save the creators and future patrons a lot of troubles, eg, when wanting to replicate findings or locate a particular file.\nA data-science project (or computational project in general) typically contains multiple types of data. Each type is recommended (see below) to be kept in separate folder. These types of data are:\n\nData\nScripts\nResults\nFigures\n\nThe structure below is inspired by 2009 William Stafford Noble’s paper A Quick Guide to Organizing Computational Biology Projects. On a related topic, see 2014 Greg Wilson et al paper Best Practices for Scientific Computing.\n\n+- data: contains the fixed data sets.\n   +- raw\n   +- processed, if needed\n\n+- result: contains the computational experiments performed on the data sets \n           in the 'data' directory.\n   - NOTEBOOK: record the progress in details. The entries in this notebook \n               should be dated and relaltively verbose with links or embeded \n               images or tables displaying the results of the experiment \n               performed.  Also, this notebook should also record any \n               observation, conclusion, or ideas for future work.  In case \n               the experiment fail, document how you know that experiment \n               failed to make it clear for those who may read this notebook \n               later.  You may also trascribe notes from converstaions and \n               emails.  This notebook can reside online (e.g., Google Doc) \n               to give access to collaborator about the current status of \n               the project.\n   +- 2018.04.24\n   +- 2018.04.25\n   +- &lt;chronological order&gt;\n\n+- doc: contains a seperate sub-directory for each maniuscript.\n   +- paper 1\n   +- paper 2\n   +- ...\n\n+- src: contains the source code for the project.\n\n\nWhenever inside a project, one should only use relative paths (relative to the working directory, ie, the project home) except for file hosted on the internet which require using absolute paths.",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>File Organization</span>"
    ]
  },
  {
    "objectID": "src/notes/eda.html",
    "href": "src/notes/eda.html",
    "title": "Exploartory Data Analysis",
    "section": "",
    "text": "For each dataset, try to obtain the following Exploartory Data Analysis (EDA) summaries.\n\nManual Summaries\nusing the dataset codebook, if available, or via some search and/or asking, answer the following questions:\n\nWhat is its source?\nHow it was obtained?\nWho collected it?\nWhen it was collected?\nWhat does each column/variable represent?\nWhat does each row/observation represent?\n\n\n\nComputational Summaries\nThrough computations, ie, code, answer the following questions:\n\nHow many columns/variables?\nHow many rows/observations?\nWhat is the data type of each column/variable?\nWhat are the top few rows/observations?\nWhat are the bottom few rows/observations?\nHow many missing values in each column/variable?\nHow many rows/observations contain 1+ missing values?\nWhat is the summary statistics of each column/variable?\n\nIn a blog post (html), Michael Clark demos eight R packages that can help explore data quickly and effectively. The demoed packages are:\n\narsenal\nDataExplorer\ndataReporter (dataMaid previously)\ngtsummary\njanitor\nSmartEDA\nsummarytools\nvisdat.",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Exploartory Data Analysis</span>"
    ]
  },
  {
    "objectID": "src/notes/code-files.html",
    "href": "src/notes/code-files.html",
    "title": "Code Files",
    "section": "",
    "text": "1. Create Project\nIt is advisable to perform the following step at the beginning of each code file. The example code chunks are for the R programming language.\nWhen wanting to write R code, create a project then add R/Rmd/qmd files into it instead of only creating a single file. This will allow saving the workspace settings.",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Code Files</span>"
    ]
  },
  {
    "objectID": "src/notes/code-files.html#clean-workspace",
    "href": "src/notes/code-files.html#clean-workspace",
    "title": "Code Files",
    "section": "2. Clean Workspace",
    "text": "2. Clean Workspace\nAlways start by clearing the workspace to ensure objects created in other files are not used in the current file by using the code shown blew. This can be done manually in RStudio: Environment window -&gt; Broom icon.\n#| include: false\n\nrm(list = ls())",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Code Files</span>"
    ]
  },
  {
    "objectID": "src/notes/code-files.html#insall-load-packages-automatically",
    "href": "src/notes/code-files.html#insall-load-packages-automatically",
    "title": "Code Files",
    "section": "3. Insall & Load Packages Automatically",
    "text": "3. Insall & Load Packages Automatically\nAlthough people may not like installing packages on their machines automatically for different reasons, I prefer this route for myself because I use multiple machines and installing packages one at a time (when the code breaks multiple times, one for each missing package) is annoying.\nStep 1: Store all needed packages to a variables by including the following code chunk and changing the given list of sample packages.\n#| include: false\n\npackages &lt;- c(\"here\", \"tidyverse\", \"janitor\")\nStep 2: Install missing packages automatically, if any, by including the following code chunk as it is.\n#| include: false\n\ninstall.packages(setdiff(packages, rownames(installed.packages())))\nStep 3: Load packages in one go automatically by including the following code chunk as it is.\n#| include: false\n\nlapply(packages, require, character.only = TRUE)\n\n\n\n\n\n\nExecution Options\n\n\n\nThe above R code chunk includes the execution option #| include: false which will prevent any output from being included in the knitted/rendered document. For the complete list of execution options that can be used in Quarto files see this page (html).",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Code Files</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html",
    "href": "src/notes/r.html",
    "title": "R",
    "section": "",
    "text": "R Packages\nAn R package usually includes:",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#r-packages",
    "href": "src/notes/r.html#r-packages",
    "title": "R",
    "section": "",
    "text": "reusable functions\ndocumentation describing how to use the function\nsample data",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#primitive-data-types",
    "href": "src/notes/r.html#primitive-data-types",
    "title": "R",
    "section": "Primitive Data Types",
    "text": "Primitive Data Types\nThe primitive (also known as singleton/simple) data types in R are:\n\ncharacter\nnumeric\nlogical\nraw\nimaginary numbers\n\nTo know the datatype of an object, run the command:\n\nclass(x) # give the data type of x\n\nTo know the type of the variables of each variable.\n\nx |&gt; \n  slice(0) |&gt; \n  glimpse()\n\nMixing Data Types\n\ncharacter + numeric –&gt; character\nnumeric + logical –&gt; numeric\nnumeric + character + logical –&gt; character",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#compound-data-types",
    "href": "src/notes/r.html#compound-data-types",
    "title": "R",
    "section": "Compound Data Types",
    "text": "Compound Data Types\nThe compound (also know as collection/sttructure) data types in R are:\n\n\nvector: hold single type of data\n\n\n\n\n\n\n\nCreating Vector\n\n\n\nThe c() function (combine multiple elements) can be used to create vectors in R.\nx &lt;- c(1, 2, 3, 4)\n\n\n\n\nmatrix: 2D vector\n\narray: nD vector\n\nlist: generic vector, can hold mixed type of data, eg, one element can be a character, another can be a list of integers, and the third could be a logical\n\ndata frame: table where columns represent vectors\n\ntibbles: data frames, but slightly tweaked to work better with tidyverse–when printing tibbles, only the first few columns that fit into the screen will be shown\n\n\n\n\n\n\n\nPrinting tibble All Columns\n\n\n\nTo force the print() function to print all the columns of a tibble, set the width parameter to Inf as follows:\n\nprint(ds, width = Inf)\n\n\n\nTo construct small tibble by hand, use the tribble function as follows:\n\ndf &lt;- tribble(\n  ~var1, ~var2, ~var3\n  \"A\", 1, TRUE,\n  \"B\", 2, FALSE,\n  \"C\", 3, TRUE\n)\n\n\nfactor\n\n\n\n\n\n\n\n\nFigure 4.1: Common data structures in R ( taken from Grolemund, 2014)\n\n\n\n\nTo know the data structure and length of the object, run the command:\n\nstr(x) # give the structure type of x\nlength(x) # length of structure",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#basics-operations",
    "href": "src/notes/r.html#basics-operations",
    "title": "R",
    "section": "Basics Operations",
    "text": "Basics Operations\nAssignment\n\nx &lt;- 3 # assign 3 to x (x gets 3)\n(x &lt;- 3) # assign 3 to x (x gets 3) & print the result to console\n\n[1] 3\n\n\nGetting Help\n\nargs(round) # print the argument list of function\n?round # show documentation of function in Help window\n\nDealing with Structure\n\n# concatenate set of values to create vector\nweight_g &lt;- c(50, 60, 3, 9)\nanimals &lt;- c(\"dog\", \"bat\", \"cat\")\n\n# utilizing logical values to pull specific values\nweight_g[weight_g &lt; 10 & weight_g &gt; 60 | weight_g == 50]\n\n[1] 50\n\n# pull dog & cat records\nanimals[animals %in% c(\"dog\", \"cat\")]\n\n[1] \"dog\" \"cat\"\n\nanimals[animals == \"dog\" | animals == \"cat\"]\n\n[1] \"dog\" \"cat\"\n\n\nStatistics\n\n# signaling missing data using NA\nheights &lt;- c(2, 3, NA, 4)\n\n# get mean while ignoring missing data\nmean(heights, na.rm = TRUE)\n\n[1] 3\n\n# how to use mean\n# ?mean",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#initial-steps",
    "href": "src/notes/r.html#initial-steps",
    "title": "R",
    "section": "Initial Steps",
    "text": "Initial Steps\nFile Paths\nThe here package makes it easy to point to files starting from the project main directory.\n\nlibrary(\"here\", \"janitor\")\n\nStore Locally\nLoading file from repository and saving it locally on disk. It is always a good idea to structure the workspace–for more information, see Best Practices for Scientific Computing paper.\n\nfile_name &lt;- \"portal_data_joined.csv\"\nfile_path &lt;- here(\"data\", file_name)\n\nif (!file.exists(file_path)) {\n  download.file(\n    url = \"https://ndownloader.figshare.com/files/2292169\",\n    destfile = file_path\n  )\n}\n\nLoad Locally\n\nsurveys &lt;- read.csv(file_path)\n\nglimpse(surveys)\n\nRows: 34,786\nColumns: 13\n$ record_id       &lt;int&gt; 1, 72, 224, 266, 349, 363, 435, 506, 588, 661, 748, 84…\n$ month           &lt;int&gt; 7, 8, 9, 10, 11, 11, 12, 1, 2, 3, 4, 5, 6, 8, 9, 10, 1…\n$ day             &lt;int&gt; 16, 19, 13, 16, 12, 12, 10, 8, 18, 11, 8, 6, 9, 5, 4, …\n$ year            &lt;int&gt; 1977, 1977, 1977, 1977, 1977, 1977, 1977, 1978, 1978, …\n$ plot_id         &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ species_id      &lt;chr&gt; \"NL\", \"NL\", \"NL\", \"NL\", \"NL\", \"NL\", \"NL\", \"NL\", \"NL\", …\n$ sex             &lt;chr&gt; \"M\", \"M\", \"\", \"\", \"\", \"\", \"\", \"\", \"M\", \"\", \"\", \"M\", \"M…\n$ hindfoot_length &lt;int&gt; 32, 31, NA, NA, NA, NA, NA, NA, NA, NA, NA, 32, NA, 34…\n$ weight          &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, 218, NA, NA, 204, 200,…\n$ genus           &lt;chr&gt; \"Neotoma\", \"Neotoma\", \"Neotoma\", \"Neotoma\", \"Neotoma\",…\n$ species         &lt;chr&gt; \"albigula\", \"albigula\", \"albigula\", \"albigula\", \"albig…\n$ taxa            &lt;chr&gt; \"Rodent\", \"Rodent\", \"Rodent\", \"Rodent\", \"Rodent\", \"Rod…\n$ plot_type       &lt;chr&gt; \"Control\", \"Control\", \"Control\", \"Control\", \"Control\",…\n\n\nClean Names\n\nsurveys &lt;- surveys |&gt; \n  janitor::clean_names()\n\nInspecting Data\n\nclass(surveys) # data type\n\n[1] \"data.frame\"\n\n\n\nstr(surveys) # structure\n\n'data.frame':   34786 obs. of  13 variables:\n $ record_id      : int  1 72 224 266 349 363 435 506 588 661 ...\n $ month          : int  7 8 9 10 11 11 12 1 2 3 ...\n $ day            : int  16 19 13 16 12 12 10 8 18 11 ...\n $ year           : int  1977 1977 1977 1977 1977 1977 1977 1978 1978 1978 ...\n $ plot_id        : int  2 2 2 2 2 2 2 2 2 2 ...\n $ species_id     : chr  \"NL\" \"NL\" \"NL\" \"NL\" ...\n $ sex            : chr  \"M\" \"M\" \"\" \"\" ...\n $ hindfoot_length: int  32 31 NA NA NA NA NA NA NA NA ...\n $ weight         : int  NA NA NA NA NA NA NA NA 218 NA ...\n $ genus          : chr  \"Neotoma\" \"Neotoma\" \"Neotoma\" \"Neotoma\" ...\n $ species        : chr  \"albigula\" \"albigula\" \"albigula\" \"albigula\" ...\n $ taxa           : chr  \"Rodent\" \"Rodent\" \"Rodent\" \"Rodent\" ...\n $ plot_type      : chr  \"Control\" \"Control\" \"Control\" \"Control\" ...\n\n\n\nsurveys |&gt; \n  slice(0) |&gt; \n  glimpse()\n\nRows: 0\nColumns: 13\n$ record_id       &lt;int&gt; \n$ month           &lt;int&gt; \n$ day             &lt;int&gt; \n$ year            &lt;int&gt; \n$ plot_id         &lt;int&gt; \n$ species_id      &lt;chr&gt; \n$ sex             &lt;chr&gt; \n$ hindfoot_length &lt;int&gt; \n$ weight          &lt;int&gt; \n$ genus           &lt;chr&gt; \n$ species         &lt;chr&gt; \n$ taxa            &lt;chr&gt; \n$ plot_type       &lt;chr&gt; \n\n\n\ndim(surveys) # dimensions\n\n[1] 34786    13\n\nnrow(surveys)\n\n[1] 34786\n\nncol(surveys)\n\n[1] 13\n\n\n\nsummary(surveys)\n\n   record_id         month             day            year         plot_id     \n Min.   :    1   Min.   : 1.000   Min.   : 1.0   Min.   :1977   Min.   : 1.00  \n 1st Qu.: 8964   1st Qu.: 4.000   1st Qu.: 9.0   1st Qu.:1984   1st Qu.: 5.00  \n Median :17762   Median : 6.000   Median :16.0   Median :1990   Median :11.00  \n Mean   :17804   Mean   : 6.474   Mean   :16.1   Mean   :1990   Mean   :11.34  \n 3rd Qu.:26655   3rd Qu.:10.000   3rd Qu.:23.0   3rd Qu.:1997   3rd Qu.:17.00  \n Max.   :35548   Max.   :12.000   Max.   :31.0   Max.   :2002   Max.   :24.00  \n                                                                               \n  species_id            sex            hindfoot_length     weight      \n Length:34786       Length:34786       Min.   : 2.00   Min.   :  4.00  \n Class :character   Class :character   1st Qu.:21.00   1st Qu.: 20.00  \n Mode  :character   Mode  :character   Median :32.00   Median : 37.00  \n                                       Mean   :29.29   Mean   : 42.67  \n                                       3rd Qu.:36.00   3rd Qu.: 48.00  \n                                       Max.   :70.00   Max.   :280.00  \n                                       NA's   :3348    NA's   :2503    \n    genus             species              taxa            plot_type        \n Length:34786       Length:34786       Length:34786       Length:34786      \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n\n\nPrint top and bottom obervations\n\nhead(surveys)\n\n  record_id month day year plot_id species_id sex hindfoot_length weight\n1         1     7  16 1977       2         NL   M              32     NA\n2        72     8  19 1977       2         NL   M              31     NA\n3       224     9  13 1977       2         NL                  NA     NA\n4       266    10  16 1977       2         NL                  NA     NA\n5       349    11  12 1977       2         NL                  NA     NA\n6       363    11  12 1977       2         NL                  NA     NA\n    genus  species   taxa plot_type\n1 Neotoma albigula Rodent   Control\n2 Neotoma albigula Rodent   Control\n3 Neotoma albigula Rodent   Control\n4 Neotoma albigula Rodent   Control\n5 Neotoma albigula Rodent   Control\n6 Neotoma albigula Rodent   Control\n\ntail(surveys)\n\n      record_id month day year plot_id species_id sex hindfoot_length weight\n34781     26787     9  27 1997       7         PL   F              21     16\n34782     26966    10  25 1997       7         PL   M              20     16\n34783     27185    11  22 1997       7         PL   F              21     22\n34784     27792     5   2 1998       7         PL   F              20      8\n34785     28806    11  21 1998       7         PX                  NA     NA\n34786     30986     7   1 2000       7         PX                  NA     NA\n            genus  species   taxa        plot_type\n34781  Peromyscus leucopus Rodent Rodent Exclosure\n34782  Peromyscus leucopus Rodent Rodent Exclosure\n34783  Peromyscus leucopus Rodent Rodent Exclosure\n34784  Peromyscus leucopus Rodent Rodent Exclosure\n34785 Chaetodipus      sp. Rodent Rodent Exclosure\n34786 Chaetodipus      sp. Rodent Rodent Exclosure\n\n\nRetrieve specific element/row/column\n\nsurveys[1, 1] # element[1,1]\n\n[1] 1\n\nsurveys[1, ] # row 1\n\n  record_id month day year plot_id species_id sex hindfoot_length weight\n1         1     7  16 1977       2         NL   M              32     NA\n    genus  species   taxa plot_type\n1 Neotoma albigula Rodent   Control\n\nhead(surveys[, 1]) # column 1\n\n[1]   1  72 224 266 349 363\n\nhead(surveys$sex) # column by name\n\n[1] \"M\" \"M\" \"\"  \"\"  \"\"  \"\" \n\n\nDealing with Factor (Categorical) Columns\nR convert columns that contain characters to factors by default. Factors are treated as integer vectors. By default, R sorts levels in alphabetical order.\n\nlevels(surveys$sex)\n\nNULL\n\nnlevels(surveys$sex)\n\n[1] 0\n\n\nReorder factors (to get better plots)\n\nsurveys$sex_ordered &lt;- factor(surveys$sex, level = c(\"F\", \"M\", \"\"))\nstr(surveys$sex_ordered)\n\n Factor w/ 3 levels \"F\",\"M\",\"\": 2 2 3 3 3 3 3 3 2 3 ...\n\nlevels(surveys$sex_ordered)\n\n[1] \"F\" \"M\" \"\" \n\nnlevels(surveys$sex_ordered)\n\n[1] 3\n\n\nBasic Plotting\nHistogram\n\n# plot(surveys$sex)  # not possible\nplot(surveys$sex_ordered)\n\n\n\n\n\n\n\nEnhance the plot\n\nlevels(surveys$sex_ordered)[1] &lt;- \"Female\"\nlevels(surveys$sex_ordered)[2] &lt;- \"Male\"\nplot(surveys$sex_ordered)",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#data-manipulation",
    "href": "src/notes/r.html#data-manipulation",
    "title": "R",
    "section": "Data Manipulation",
    "text": "Data Manipulation\n\n\ntdlyr\n\nmakes manipulation of data easier\nbuilt to work with data frames directly\ncan directly work with data stored in an external database which give the advantage of only bringing what we need to the memory to work on without having to bring the whole database\n\n\n\ntidyr\n\nallows to swiftly convert b/w different data formats for plotting & analysis in order to accommodate the different requirements by different functions\n\nsometime we want one row per measurement\nother times we want the data aggregated like when plotting\n\n\n\n\n\nBefore using tdlyr and tidyr:\n\nInstall tidyverse package: umbrella-package that install several packages (tidyr, dplyr, ggplot2 tibble, magrittr, etc.)\nLoad the package each session\n\nLoad packages\n\nlibrary(\"tidyverse\")\n\nLoad & inspect data\n\n# notice the '_' instead of '.' of basic R\nsurveys &lt;- read_csv(here(\"data\", \"portal_data_joined.csv\"))\n\nstr(surveys) # structure: tbl_df (tibble)\n\nspc_tbl_ [34,786 × 13] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ record_id      : num [1:34786] 1 72 224 266 349 363 435 506 588 661 ...\n $ month          : num [1:34786] 7 8 9 10 11 11 12 1 2 3 ...\n $ day            : num [1:34786] 16 19 13 16 12 12 10 8 18 11 ...\n $ year           : num [1:34786] 1977 1977 1977 1977 1977 ...\n $ plot_id        : num [1:34786] 2 2 2 2 2 2 2 2 2 2 ...\n $ species_id     : chr [1:34786] \"NL\" \"NL\" \"NL\" \"NL\" ...\n $ sex            : chr [1:34786] \"M\" \"M\" NA NA ...\n $ hindfoot_length: num [1:34786] 32 31 NA NA NA NA NA NA NA NA ...\n $ weight         : num [1:34786] NA NA NA NA NA NA NA NA 218 NA ...\n $ genus          : chr [1:34786] \"Neotoma\" \"Neotoma\" \"Neotoma\" \"Neotoma\" ...\n $ species        : chr [1:34786] \"albigula\" \"albigula\" \"albigula\" \"albigula\" ...\n $ taxa           : chr [1:34786] \"Rodent\" \"Rodent\" \"Rodent\" \"Rodent\" ...\n $ plot_type      : chr [1:34786] \"Control\" \"Control\" \"Control\" \"Control\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   record_id = col_double(),\n  ..   month = col_double(),\n  ..   day = col_double(),\n  ..   year = col_double(),\n  ..   plot_id = col_double(),\n  ..   species_id = col_character(),\n  ..   sex = col_character(),\n  ..   hindfoot_length = col_double(),\n  ..   weight = col_double(),\n  ..   genus = col_character(),\n  ..   species = col_character(),\n  ..   taxa = col_character(),\n  ..   plot_type = col_character()\n  .. )\n - attr(*, \"problems\")=&lt;externalptr&gt; \n\n# view(surveys) # preview in the viewer window, avoid when rendering\n\nSelection\nSelect certain columns\n\nselect(surveys, plot_id, species_id, weight)\n\n# A tibble: 34,786 × 3\n   plot_id species_id weight\n     &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1       2 NL             NA\n 2       2 NL             NA\n 3       2 NL             NA\n 4       2 NL             NA\n 5       2 NL             NA\n 6       2 NL             NA\n 7       2 NL             NA\n 8       2 NL             NA\n 9       2 NL            218\n10       2 NL             NA\n# ℹ 34,776 more rows\n\n\nSelect all columns except …\n\nselect(surveys, -sex)\n\n# A tibble: 34,786 × 12\n   record_id month   day  year plot_id species_id hindfoot_length weight genus  \n       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  \n 1         1     7    16  1977       2 NL                      32     NA Neotoma\n 2        72     8    19  1977       2 NL                      31     NA Neotoma\n 3       224     9    13  1977       2 NL                      NA     NA Neotoma\n 4       266    10    16  1977       2 NL                      NA     NA Neotoma\n 5       349    11    12  1977       2 NL                      NA     NA Neotoma\n 6       363    11    12  1977       2 NL                      NA     NA Neotoma\n 7       435    12    10  1977       2 NL                      NA     NA Neotoma\n 8       506     1     8  1978       2 NL                      NA     NA Neotoma\n 9       588     2    18  1978       2 NL                      NA    218 Neotoma\n10       661     3    11  1978       2 NL                      NA     NA Neotoma\n# ℹ 34,776 more rows\n# ℹ 3 more variables: species &lt;chr&gt;, taxa &lt;chr&gt;, plot_type &lt;chr&gt;\n\n\nSelect rows based on criteria\n\nfilter(surveys, year == 1995)\n\n# A tibble: 1,180 × 13\n   record_id month   day  year plot_id species_id sex   hindfoot_length weight\n       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;  &lt;dbl&gt;\n 1     22314     6     7  1995       2 NL         M                  34     NA\n 2     22728     9    23  1995       2 NL         F                  32    165\n 3     22899    10    28  1995       2 NL         F                  32    171\n 4     23032    12     2  1995       2 NL         F                  33     NA\n 5     22003     1    11  1995       2 DM         M                  37     41\n 6     22042     2     4  1995       2 DM         F                  36     45\n 7     22044     2     4  1995       2 DM         M                  37     46\n 8     22105     3     4  1995       2 DM         F                  37     49\n 9     22109     3     4  1995       2 DM         M                  37     46\n10     22168     4     1  1995       2 DM         M                  36     48\n# ℹ 1,170 more rows\n# ℹ 4 more variables: genus &lt;chr&gt;, species &lt;chr&gt;, taxa &lt;chr&gt;, plot_type &lt;chr&gt;\n\n\nPiping\nSending the results of one function to another\n\n# in multiple steps\nsurvey_less5 &lt;- filter(surveys, weight &lt; 5)\nsurvey_sml &lt;- select(survey_less5, species_id, sex, weight)\n\n# in one long step\nsurvey_sml &lt;- select(filter(surveys, weight &lt; 5), species_id, sex, weight)\n\n# using pipe %&gt;% of magritter package.  Use Ctrl + Shift + M to add\nsurvey_sml &lt;- surveys %&gt;%\n  filter(weight &lt; 5) %&gt;%\n  select(species_id, sex, weight)\n\nSummary\nSummary of groups (1+ columns)\none factor\n\nsurveys %&gt;%\n  group_by(sex) %&gt;%\n  summarise(mean_weight = mean(weight, na.rm = TRUE))\n\n# A tibble: 3 × 2\n  sex   mean_weight\n  &lt;chr&gt;       &lt;dbl&gt;\n1 F            42.2\n2 M            43.0\n3 &lt;NA&gt;         64.7\n\n\ntwo factors\n\nsurveys %&gt;%\n  group_by(sex, species) %&gt;%\n  summarise(mean_weight = mean(weight, na.rm = TRUE))\n\n# A tibble: 81 × 3\n# Groups:   sex [3]\n   sex   species     mean_weight\n   &lt;chr&gt; &lt;chr&gt;             &lt;dbl&gt;\n 1 F     albigula         154.  \n 2 F     baileyi           30.2 \n 3 F     eremicus          22.8 \n 4 F     flavus             7.97\n 5 F     fulvescens        13.7 \n 6 F     fulviventer       69   \n 7 F     hispidus          69.0 \n 8 F     leucogaster       31.1 \n 9 F     leucopus          19.3 \n10 F     maniculatus       22.1 \n# ℹ 71 more rows\n\nsurveys %&gt;%\n  group_by(species, sex) %&gt;%\n  summarise(mean_weight = mean(weight, na.rm = TRUE))\n\n# A tibble: 81 × 3\n# Groups:   species [40]\n   species         sex   mean_weight\n   &lt;chr&gt;           &lt;chr&gt;       &lt;dbl&gt;\n 1 albigula        F           154. \n 2 albigula        M           166. \n 3 albigula        &lt;NA&gt;        168. \n 4 audubonii       &lt;NA&gt;        NaN  \n 5 baileyi         F            30.2\n 6 baileyi         M            33.8\n 7 baileyi         &lt;NA&gt;         30.6\n 8 bilineata       &lt;NA&gt;        NaN  \n 9 brunneicapillus &lt;NA&gt;        NaN  \n10 chlorurus       &lt;NA&gt;        NaN  \n# ℹ 71 more rows\n\n\nto avoid using na.rm = FALSE each statistics\n\nsurveys %&gt;%\n  filter(!is.na(weight)) %&gt;%\n  group_by(species, sex) %&gt;%\n  summarise(mean_weight = mean(weight), sd_weight = sd(weight), sd_count = n())\n\n# A tibble: 59 × 5\n# Groups:   species [22]\n   species  sex   mean_weight sd_weight sd_count\n   &lt;chr&gt;    &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1 albigula F          154.      39.2        652\n 2 albigula M          166.      49.0        484\n 3 albigula &lt;NA&gt;       168.      44.2         16\n 4 baileyi  F           30.2      5.27      1617\n 5 baileyi  M           33.8      8.27      1188\n 6 baileyi  &lt;NA&gt;        30.6      9.96         5\n 7 eremicus F           22.8      4.57       568\n 8 eremicus M           20.6      3.49       689\n 9 eremicus &lt;NA&gt;        17.7      0.577        3\n10 flavus   F            7.97     1.69       742\n# ℹ 49 more rows\n\n\narrange by mean weight\n\nsurveys %&gt;%\n  filter(!is.na(weight)) %&gt;%\n  group_by(species, sex) %&gt;%\n  summarise(mean_weight = mean(weight), sd_weight = sd(weight), sd_count = n()) %&gt;%\n  arrange(mean_weight)\n\n# A tibble: 59 × 5\n# Groups:   species [22]\n   species   sex   mean_weight sd_weight sd_count\n   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1 flavus    &lt;NA&gt;         6        1.63         4\n 2 taylori   M            7.36     0.842       14\n 3 flavus    M            7.89     1.59       802\n 4 flavus    F            7.97     1.69       742\n 5 taylori   F            9.16     2.24        31\n 6 montanus  M            9.5      1.29         4\n 7 megalotis M           10.1      1.73      1339\n 8 montanus  F           11        2.16         4\n 9 megalotis &lt;NA&gt;        11.1      2.57        12\n10 megalotis F           11.1      2.56      1184\n# ℹ 49 more rows\n\n\nin descending order\n\nsurveys %&gt;%\n  filter(!is.na(weight)) %&gt;%\n  group_by(species, sex) %&gt;%\n  summarise(mean_weight = mean(weight), sd_weight = sd(weight), sd_count = n()) %&gt;%\n  arrange(desc(mean_weight))\n\n# A tibble: 59 × 5\n# Groups:   species [22]\n   species     sex   mean_weight sd_weight sd_count\n   &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1 albigula    &lt;NA&gt;        168.       44.2       16\n 2 albigula    M           166.       49.0      484\n 3 albigula    F           154.       39.2      652\n 4 hispidus    &lt;NA&gt;        130        NA          1\n 5 spilosoma   M           130        NA          1\n 6 spectabilis M           122.       24.0     1220\n 7 spectabilis &lt;NA&gt;        120        18.5       18\n 8 spectabilis F           118.       21.5     1106\n 9 fulviventer F            69        37.8       16\n10 hispidus    F            69.0      29.7       98\n# ℹ 49 more rows\n\n\nby count\n\nsurveys %&gt;%\n  filter(!is.na(weight)) %&gt;%\n  group_by(species, sex) %&gt;%\n  summarise(mean_weight = mean(weight), sd_weight = sd(weight), sd_count = n()) %&gt;%\n  arrange(sd_count)\n\n# A tibble: 59 × 5\n# Groups:   species [22]\n   species     sex   mean_weight sd_weight sd_count\n   &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1 hispidus    &lt;NA&gt;        130      NA            1\n 2 intermedius &lt;NA&gt;         18      NA            1\n 3 leucopus    &lt;NA&gt;         25      NA            1\n 4 spilosoma   F            57      NA            1\n 5 spilosoma   M           130      NA            1\n 6 fulviventer &lt;NA&gt;         40.5     6.36         2\n 7 leucogaster &lt;NA&gt;         29      11.3          2\n 8 eremicus    &lt;NA&gt;         17.7     0.577        3\n 9 ordii       &lt;NA&gt;         50.7     6.51         3\n10 sp.         F            20.7     1.15         3\n# ℹ 49 more rows\n\n\nCount\nCount of a categorical column\n\nsurveys %&gt;%\n  count(sex)\n\n# A tibble: 3 × 2\n  sex       n\n  &lt;chr&gt; &lt;int&gt;\n1 F     15690\n2 M     17348\n3 &lt;NA&gt;   1748\n\n\nReshaping\nUsing gather & spreed\nprepare the needed data first\n\nsurveys_gw &lt;- surveys %&gt;%\n  filter(!is.na(weight)) %&gt;%\n  group_by(genus, plot_id) %&gt;%\n  summarize(mean_weight = mean(weight))\n\ncreating a 2D table where each dimension represent a category the cell will represent a statistics\n\nsurveys_spread &lt;- surveys_gw %&gt;%\n  spread(key = genus, value = mean_weight)\nstr(surveys_spread)\n\ntibble [24 × 11] (S3: tbl_df/tbl/data.frame)\n $ plot_id        : num [1:24] 1 2 3 4 5 6 7 8 9 10 ...\n $ Baiomys        : num [1:24] 7 6 8.61 NA 7.75 ...\n $ Chaetodipus    : num [1:24] 22.2 25.1 24.6 23 18 ...\n $ Dipodomys      : num [1:24] 60.2 55.7 52 57.5 51.1 ...\n $ Neotoma        : num [1:24] 156 169 158 164 190 ...\n $ Onychomys      : num [1:24] 27.7 26.9 26 28.1 27 ...\n $ Perognathus    : num [1:24] 9.62 6.95 7.51 7.82 8.66 ...\n $ Peromyscus     : num [1:24] 22.2 22.3 21.4 22.6 21.2 ...\n $ Reithrodontomys: num [1:24] 11.4 10.7 10.5 10.3 11.2 ...\n $ Sigmodon       : num [1:24] NA 70.9 65.6 82 82.7 ...\n $ Spermophilus   : num [1:24] NA NA NA NA NA NA NA NA NA NA ...\n\nhead(surveys_spread)\n\n# A tibble: 6 × 11\n  plot_id Baiomys Chaetodipus Dipodomys Neotoma Onychomys Perognathus Peromyscus\n    &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;\n1       1    7           22.2      60.2    156.      27.7        9.62       22.2\n2       2    6           25.1      55.7    169.      26.9        6.95       22.3\n3       3    8.61        24.6      52.0    158.      26.0        7.51       21.4\n4       4   NA           23.0      57.5    164.      28.1        7.82       22.6\n5       5    7.75        18.0      51.1    190.      27.0        8.66       21.2\n6       6   NA           24.9      58.6    180.      25.9        7.81       21.8\n# ℹ 3 more variables: Reithrodontomys &lt;dbl&gt;, Sigmodon &lt;dbl&gt;, Spermophilus &lt;dbl&gt;\n\n\nbring spread back\n\nsurveys_gw &lt;- surveys_spread %&gt;%\n  gather(key = genus, value = mean_weight, -plot_id)\nstr(surveys_gw)\n\ntibble [240 × 3] (S3: tbl_df/tbl/data.frame)\n $ plot_id    : num [1:240] 1 2 3 4 5 6 7 8 9 10 ...\n $ genus      : chr [1:240] \"Baiomys\" \"Baiomys\" \"Baiomys\" \"Baiomys\" ...\n $ mean_weight: num [1:240] 7 6 8.61 NA 7.75 ...\n\nhead(surveys_gw)\n\n# A tibble: 6 × 3\n  plot_id genus   mean_weight\n    &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;\n1       1 Baiomys        7   \n2       2 Baiomys        6   \n3       3 Baiomys        8.61\n4       4 Baiomys       NA   \n5       5 Baiomys        7.75\n6       6 Baiomys       NA   \n\n\nFiltering\nRemove missing data\n\nsurvey_complete &lt;- surveys %&gt;%\n  filter(!is.na(weight), !is.na(hindfoot_length), !is.na(sex))\n\nFilter those that has sample greater than 50\n\nspecies_counts &lt;- survey_complete %&gt;%\n  count(species_id) %&gt;%\n  filter(n &gt;= 50)\n\nfilter only those in the indicated category\n\nsurveys_com &lt;- surveys %&gt;%\n  filter(species_id %in% c(\"albigula\", \"eremicus\"))\n\nSaving to disk\n\nwrite_cvs()",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#visualization",
    "href": "src/notes/r.html#visualization",
    "title": "R",
    "section": "Visualization",
    "text": "Visualization\n\nHelp in making complex plots from data frames in simple steps\nggplot graphics are built step by step by adding new elements; this makes it flexible as well as customization\nTo get list of ggplot2 geometric objects: help.search(\"gemo_\", package=\"ggplot2\")\n\nTo know the aesthetic specification each geom_ can take: vignette(\"ggplot2-specs\")\n\n\nStep 1: Bind the plot to specific data frame\n\nsurveys_plot &lt;- ggplot(\n  data = survey_complete,\n  mapping = aes(x = weight, y = hindfoot_length)\n)\nsurveys_plot\n\n\n\n\n\n\n# Color for each group\nsurveys_plot &lt;- ggplot(\n  data = survey_complete,\n  mapping = aes(x = weight, y = hindfoot_length),\n  color = species_id\n)\nsurveys_plot\n\n\n\n\n\n\n\nStep 2: Select the type of the plot\n\nscatter plot, dot plots, etc. &gt; geom_point()\nboxplots &gt; geom_boxplot()\ntrend lines, time series, etc. &gt; geom_line()\n\nScatter plot\n\nsurveys_plot + geom_point()\n\n\n\n\n\n\n# add transparency\nsurveys_plot + geom_point(alpha = 0.1)\n\n\n\n\n\n\n# color if not used in binding\nsurveys_plot + geom_point(alpha = 0.1, color = \"black\")\n\n\n\n\n\n\n# add color if not used in binding\nsurveys_plot + geom_point(alpha = 0.1, aes(color = species_id))\n\n\n\n\n\n\n# make the color blend by introducing small random variation in points locations\n# used when having small data sets\nsurveys_plot + geom_jitter(alpha = 0.1)\n\n\n\n\n\n\n\nBoxplot\n\nsurveys_plot &lt;- ggplot(\n  data = survey_complete,\n  mapping = aes(x = species_id, y = weight)\n)\n\nsurveys_plot + geom_boxplot()\n\n\n\n\n\n\n# show data\nsurveys_plot + geom_boxplot(alpha = 0.5) +\n  geom_jitter(alpha = 0.1, color = \"tomato\")\n\n\n\n\n\n\n# bring boxplot layer in front\nsurveys_plot + geom_jitter(alpha = 0.1, color = \"tomato\") +\n  geom_boxplot(alpha = 0.7)\n\n\n\n\n\n\n\nTime series data\n\n# create appropriate dataset\nyearly_count &lt;- survey_complete %&gt;%\n  count(year, species_id)\n\nsurveys_plot &lt;- ggplot(\n  data = yearly_count,\n  mapping = aes(x = year, y = n)\n)\n\nsurveys_plot + geom_line()\n\n\n\n\n\n\n# make it more meaningful by breaking it by category\nsurveys_plot + geom_line(aes(group = species_id))\n\n\n\n\n\n\n# make it more colorful\nsurveys_plot + geom_line(aes(color = species_id))\n\n\n\n\n\n\n# split into multiple plots\nsurveys_plot + geom_line() + facet_wrap(~species_id)\n\n\n\n\n\n\n# split the line in each plot by sex\nyearly_sex_counts &lt;- survey_complete %&gt;%\n  count(year, species_id, sex)\n\nsurveys_plot &lt;- ggplot(\n  data = yearly_sex_counts,\n  mapping = aes(x = year, y = n)\n)\n\nsurveys_plot + geom_line(aes(color = sex)) +\n  facet_wrap(~species_id)\n\n\n\n\n\n\n# remove background\nsurveys_plot + geom_line(aes(color = sex)) +\n  facet_wrap(~species_id) +\n  theme_bw() +\n  theme(panel.grid = element_blank())",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/r.html#references",
    "href": "src/notes/r.html#references",
    "title": "R",
    "section": "References",
    "text": "References\n\nOU Software Carpentry Workshop (check other workshops here)\n\nMain Tutorial\nData Carpentry with R\nSoftware Carpentry with R\nEtherpad\nGoogle Doc\n\n\n\nIntro to ggplot by Allison Horst\n\nR for Data Science book by Garrett Grolemund and Hadley Wickham\nBest Practices for Scientific Computing paper",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>R</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html",
    "href": "src/notes/quarto.html",
    "title": "Quarto",
    "section": "",
    "text": "Render & Review",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html#render-review",
    "href": "src/notes/quarto.html#render-review",
    "title": "Quarto",
    "section": "",
    "text": "VSCode/RStudio -&gt; Render button\nTerminal -&gt; quarto preview\n\nTerminal -&gt; quarto preview help",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html#render-wo-review",
    "href": "src/notes/quarto.html#render-wo-review",
    "title": "Quarto",
    "section": "Render w/o Review",
    "text": "Render w/o Review\n\nTerminal -&gt; quarto render\n\nTerminal -&gt; quarto render help",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html#import-content",
    "href": "src/notes/quarto.html#import-content",
    "title": "Quarto",
    "section": "Import Content",
    "text": "Import Content\nTo import the content of a Quarto document into another, use the following shortcodes:\n&lt;!-- {{&lt; include file.qmd &gt;}} --&gt;",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html#publish-options-on-github-pages",
    "href": "src/notes/quarto.html#publish-options-on-github-pages",
    "title": "Quarto",
    "section": "Publish Options on GitHub Pages",
    "text": "Publish Options on GitHub Pages\nA summary of the publish options of a Quarto website on GitHub pages is here (GSheet)",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/quarto.html#references",
    "href": "src/notes/quarto.html#references",
    "title": "Quarto",
    "section": "References",
    "text": "References\n\nQuarto Reference",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Quarto</span>"
    ]
  },
  {
    "objectID": "src/notes/rstudio.html",
    "href": "src/notes/rstudio.html",
    "title": "RStudio",
    "section": "",
    "text": "Selected Keyboard Shortcuts\nBelow is a set of helpful keyboard shortcuts:",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>RStudio</span>"
    ]
  },
  {
    "objectID": "src/notes/rstudio.html#selected-keyboard-shortcuts",
    "href": "src/notes/rstudio.html#selected-keyboard-shortcuts",
    "title": "RStudio",
    "section": "",
    "text": "Ctrl+Enter: execute the code statement at which cursor is standing and move the cursor to the beginning of the next statement\nCtrl+Shift+S: execute the whole R script\nCtrl+Alt+I: insert new code chunk\nCtrl+Shift+C: comment/un-comment\nAlt-⬆️: move line up\nAlt-⬇️️: move line down\nCtrl+D: delete line\nCtrl+Shift+A: format code\nCtrl+M: add pipe |&gt; operator–to change from %&gt;%, go to Tools -&gt; Global Options… -&gt; Code section -&gt; Editing tab -&gt; check Use native pipe operator, |&gt; (requires R 4.1+)\nCtrl++: increase font size of all windows\nCtrl+-: decrease font size of all windows\nAlt+- : insert assignment &lt;-. Notice:\n\nthe inserted assignment it is surrounded by spaces\nthe action happen when the cursor is inside an R chunk or R script file\n\n\n\n\n\n\n\n\nMac Users\n\n\n\nIn place of Ctrl in the keyboard shortcuts below, use Cmd.\n\n\n\n\n\n\n\n\nRStudio Tips\n\n\n\nRStudio Tip on X on how to use RStudio IDE effectively.\n\n\n\n\n\n\n\n\nFull Keyboard Shortcut\n\n\n\nThe full list of RStudio keyboard shortcuts can be reached by clicking Tools -&gt; Keyboard Shortcut Help (Alt+Shift+K) -&gt; See All Shortcuts (located on the top right corner).",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>RStudio</span>"
    ]
  },
  {
    "objectID": "src/notes/rstudio.html#notes",
    "href": "src/notes/rstudio.html#notes",
    "title": "RStudio",
    "section": "Notes",
    "text": "Notes\n\nWorking Directory is the location where R looks for files and store files. RStudio showed this location at the top of the console window. The location can be printed to the console using the R command getwd() (get working directory).\nWhen creating project using RStudio, a file with the extension .Rproj will be created. Clicking this file will automatically open the project in RStudio.",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>RStudio</span>"
    ]
  },
  {
    "objectID": "src/notes/windows.html",
    "href": "src/notes/windows.html",
    "title": "Microsoft Windows",
    "section": "",
    "text": "CMD Command",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Microsoft Windows</span>"
    ]
  },
  {
    "objectID": "src/notes/windows.html#cmd-command",
    "href": "src/notes/windows.html#cmd-command",
    "title": "Microsoft Windows",
    "section": "",
    "text": "To know which software has update: run cmd as administrator -&gt; type winget upgrade. To update all of at once, type winget upgrade --all",
    "crumbs": [
      "Notes",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Microsoft Windows</span>"
    ]
  },
  {
    "objectID": "src/r4ds/_r4ds.html",
    "href": "src/r4ds/_r4ds.html",
    "title": "R for Data Science (2e)",
    "section": "",
    "text": "This section contains replications for the examples used in the R for Data Science (2e) book, one Quarto file per chapter of the book.",
    "crumbs": [
      "R for Data Science (2e)"
    ]
  },
  {
    "objectID": "src/r4ds/01-data-viz.html",
    "href": "src/r4ds/01-data-viz.html",
    "title": "Data Visualization",
    "section": "",
    "text": "8.1 Introduction\nThis page introduces the plot creation vocabulary step by step",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "src/r4ds/01-data-viz.html#plot-creation-process",
    "href": "src/r4ds/01-data-viz.html#plot-creation-process",
    "title": "Data Visualization",
    "section": "\n8.2 Plot Creation Process",
    "text": "8.2 Plot Creation Process\n\n8.2.1 Load Dataset\nThe penguins dataset from the palmerpenguins package will be used for plotting. Typically, the package is loaded using the library function as shown in the code chunk below. However, a better approach is the one outlined in ?sec-packages.\n\nlibrary(palmerpenguins)\n\nExplore the dataset\n\nhelp(penguins)\n\nExplore the dataset differently\n\ndplyr::glimpse(penguins)\n\nRows: 344\nColumns: 8\n$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…\n$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n8.2.2 Load Plotting Package\nThe ggplot2 package will be used for plotting. The package is typically loaded using the library function as shown in the code chunk below. However, a better approach is the one outlined in ?sec-packages.\n\nlibrary(ggplot2)\n\n\n8.2.3 Create ggplot object\nCreate an empty canvas by instantiating a ggplot object using the ggplot() function.\n\nggplot()\n\n\n\n\n\n\n\n\n8.2.4 Link Dataset\nLink the dataset with the instantiated ggplot object using the data parameter.\n\nggplot(data = penguins)\n\n\n\n\n\n\n\n\n8.2.5 Map Two Variables\nSpecify which of the variables in the dataset will be used as the plot aesthetics (visual properties) using the mapping argument done via the aes() function.\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g))\n\n\n\n\n\n\n\n\n8.2.6 Display Data\nSpecify how the data (observations) will be represented geometrically on the plot, eg, bars, points, or line. The functions starting with geom_ is used for this purpose. These functions add layer of the selected geometric object to the plot.\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point()\n\n\n\n\n\n\n\n\n8.2.7 Map Third Variables\nOther variables in the dataset can be linked to plot aesthetics (visual properties) using the mapping argument done via the aes() function.\n\nggplot(\n  data = penguins,\n  mapping = aes(x = flipper_length_mm, y = body_mass_g, color = species)\n) +\n  geom_point()\n\n\n\n\n\n\n\n\n8.2.8 Display Three Trendlines\nMore geometric representations for the data can be specified using the functions starting with geom_ which will add layer of the selected geometric object to the plot.\n\nggplot(\n  data = penguins,\n  mapping = aes(x = flipper_length_mm, y = body_mass_g, color = species)\n) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n\n\n\n\n\n\n\n\n8.2.9 Display One Trendline\nThe aesthetic mapping defined in the ggplot() function is global meaning that all the geom_() functions inherit it. However, the aesthetic mapping defined in the geom_() functions are local, ie, not shared with other gemo_() functions.\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(mapping = aes(color = species)) +\n  geom_smooth(method = \"lm\")\n\n\n\n\n\n\n\n\n8.2.10 Map One Variable Twice\nWe can link the same variable to multiple plot aesthetics (visual properties) using the mapping parameter done via the aes() function.\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(mapping = aes(color = species, shape = species)) +\n  geom_smooth(method = \"lm\")\n\n\n\n\n\n\n\n\n8.2.11 Fix Labels\nThe labs() function can be used to make the plot more accessible. The function will add new layer to the plot and the following items can be added to the layer using the corresponding parameters\n\na title using the title parameter\na sub-title, if necessary, using the subtitle parameter\nx-axis title using the x parameter\ny-axis title using the y parameter\ndata-series label or legend using the color and/or shape parameters\n\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(mapping = aes(color = species, shape = species)) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = 'Palmer Three Species Penguins',\n    subtitle = 'The flipper length has a moderattly strong positive linear relationship with the body mass',\n    x = 'Fliper length (mm)',\n    y = 'Body mass (g)',\n    shape = 'Species',\n    color = 'Species'\n  )\n\n\n\n\n\n\n\nOther types of texts can be added using other functions. The other types of texts are:\n\nx-axis label\ny-axis label\ndata labels, if necessary\nannotation for interesting or important data, if exist\n\n8.2.12 Ensure Color-blind Safe\nMake the plot more color-blind safe by using the scale_color_colorblind() function from the ggthemes package which will add new layer to the plot.\n\nggplot(data = penguins,\n       mapping = aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(mapping = aes(color = species, shape = species)) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = 'Palmer Three Species Penguins',\n    subtitle = 'The flipper length has a moderattly strong positive linear relationship with the body mass',\n    x = 'Fliper length (mm)',\n    y = 'Body mass (g)',\n    shape = 'Species',\n    color = 'Species'\n  ) +\n  scale_color_colorblind()\n\n\n\n\n\n\n\n\n8.2.13 Can Call Implicitly\nThe first one or two arguments of functions are so important that scientists should know them by heart. Hence, to save some typing, the name of these arguments are usually omitted and only the values assigned to them are kept, ie, the names becomes implicit and no more explicit. Hence, the above call can be written as follows–the arguments data and mapping were omitted.\n\nggplot(penguins, aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(aes(color = species, shape = species)) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = 'Palmer Three Species Penguins',\n    subtitle = 'The flipper length has a moderattly strong positive linear relationship with the body mass',\n    x = 'Fliper length (mm)',\n    y = 'Body mass (g)',\n    shape = 'Species',\n    color = 'Species'\n  ) +\n  scale_color_colorblind()\n\n\n\n\n\n\n\n\n8.2.14 Use Pipe Operator\nThe pipe operator \\&gt; (shortcut: Ctrl+M) can be used to make the code tidy. The above code can be re-written as follow–notice the dataset was pulled before the call to the ggplot() function.\n\npenguins |&gt;\n  ggplot(aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(aes(color = species, shape = species)) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = 'Palmer Three Species Penguins',\n    subtitle = 'The flipper length has a moderattly strong positive linear relationship with the body mass',\n    x = 'Fliper length (mm)',\n    y = 'Body mass (g)',\n    shape = 'Species',\n    color = 'Species'\n  ) +\n  scale_color_colorblind()",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "src/r4ds/01-data-viz.html#visualizing-distribution",
    "href": "src/r4ds/01-data-viz.html#visualizing-distribution",
    "title": "Data Visualization",
    "section": "\n8.3 Visualizing Distribution",
    "text": "8.3 Visualizing Distribution\n\n8.3.1 Categorical Variables\nPlot options to visualize how a categorical variable is distributed:\n\nbar chart, if the counts are not computed, using gemo_bar() function\ncolumn chart, if the counts are computed, gemo_col() function\n\n8.3.2 Numerical Variables\nPlot options to visualize how a numerical (discrete or continuous) variable is distributed:\n\nhistogram, using geom_histogram() function\n\n\n\n\n\n\n\nHistogram Bin Width\n\n\n\nThe bin width of the histogram is in the unit of the variable mapped to the plot x (or y) aesthetic (visual property)\n\n\n\ndensity plot, using geom_density() function\nboxplot, using geom_boplot() function\n\n\n\n\n\n\n\nBoxplot Components\n\n\n\nAs described beautifully in R4DS, a boxplot consists of:\n\nA box that describes the range of the middle half of the data, a distance known as the interquartile range (IQR), stretching from the 25th percentile of the distribution to the 75th percentile.\nA line in the middle of the box displaying the median, ie, the 50th percentile, of the distribution.\nThe box and the line give sense of the spread of the distribution and whether or not the distribution is symmetric about the median or skewed to one side\nVisual points that display the observations that fall more than 1.5 time the IQR from either edge of the box. These outlying points (hence called outliers) are unusual so are plotted individually\nA whisker that extend from each end of the box and goes to the farthest non-outlier point in the distribution\n\nBelow is the diagram from R4DS showing the above components and how the boxpot is created.\n\n\n\n\n\n\n\nFigure 8.1: Boxplot Components (taken from R4DS)",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "src/r4ds/01-data-viz.html#visualizing-relationships",
    "href": "src/r4ds/01-data-viz.html#visualizing-relationships",
    "title": "Data Visualization",
    "section": "\n8.4 Visualizing Relationships",
    "text": "8.4 Visualizing Relationships\n\n8.4.1 One Categorical + One Numerical\nFor each category of the categorical variable, We can use any of the plot options mentioned above for the numerical variables\n\n8.4.2 Two Categoricals\nEach category of one of the categorical variables will be placed on the x-axis (or the y-axis) by mapping it to the plot x (or y) aesthetic (visual property) of the geom_bar() and the distribution of the categories of the other categorical variables by mapping it to the plot fill aesthetic (visual property). The second variable can be shown as:\n\npure counts (stacked bar chart), or\npercentages (percent stack bar chart) by setting the position attribute of the geom_bar() to fill.\n\n8.4.3 Two Numerical\nPlot options to show the relationship between two numerical variables are:\n\nScatter plot using the geom_point() function\ntrend line using geom_smooth() function\nline graph using geom_line() function if one of the variables is monotonic, eg, time or date.\n\n8.4.4 Three or More Variables\nTo visualize 3+ variables, We can either\n\nmap variables to other aesthetics of the plot, eg, color, size, and shape\n\nsplit plot into facets, subplots that each display one subset of the data, based on a categorical variable using facet_wrap() function where its first argument is a formula created using ~ followed by a (categorical) variable name.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "src/r4ds/02-workflow-basics.html",
    "href": "src/r4ds/02-workflow-basics.html",
    "title": "Workflow: Basics",
    "section": "",
    "text": "9.1 Introduction\nThis page covers basic concepts when working with R. I took note for those that were new to me or found useful to remind myself with.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Workflow: Basics</span>"
    ]
  },
  {
    "objectID": "src/r4ds/02-workflow-basics.html#comments",
    "href": "src/r4ds/02-workflow-basics.html#comments",
    "title": "Workflow: Basics",
    "section": "\n9.2 Comments",
    "text": "9.2 Comments\nUse comments to explain the why of your code, eg, you changed the default value of a parameter of a function from say .2 to .9, why?",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Workflow: Basics</span>"
    ]
  },
  {
    "objectID": "src/r4ds/02-workflow-basics.html#nameing-objects-rules",
    "href": "src/r4ds/02-workflow-basics.html#nameing-objects-rules",
    "title": "Workflow: Basics",
    "section": "\n9.3 Nameing Objects Rules",
    "text": "9.3 Nameing Objects Rules\n\nAllowed characters when naming objects\n\nletters\nnumbers\n_\n.\n\n\nAll names must start with a letter\nR is case-sensitive, ie, var, Var, and VAR are different names",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Workflow: Basics</span>"
    ]
  },
  {
    "objectID": "src/r4ds/03-data-trans.html",
    "href": "src/r4ds/03-data-trans.html",
    "title": "Data Transformation",
    "section": "",
    "text": "10.1 Introduction\nThis page introduces the dplyr package used to transform data such as creating new variables, editing existing variables, filtering out observations, and creating summaries.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Data Transformation</span>"
    ]
  },
  {
    "objectID": "src/r4ds/03-data-trans.html#dplyr-functions-verbs",
    "href": "src/r4ds/03-data-trans.html#dplyr-functions-verbs",
    "title": "Data Transformation",
    "section": "\n10.2 dplyr Functions (Verbs)",
    "text": "10.2 dplyr Functions (Verbs)\n\n10.2.1 Four Groups\ndplyr functions (verbs) can be grouped into functions that work on:\n\nrows, eg, filter(), arrange(), distinct(), count()\n\ncolumns, eg, mutate(), select(), rename(), relocate()\n\ngroups, eg, summarize(), slice_max, group_by, ungroup(), .by\n\ntables\n\n10.2.2 Common Characteristics\nAll the functions have the followings in common:\n\ntheir first argument is always a data frame\ntheir subsequent arguments typically describe which columns to operate on using variable names without quotes\n\nthey always output a new data frame, they don’t modify the passed one\n\n10.2.3 Pipe |&gt; Operator\n\nThe pipe |&gt; operator takes what on its left and pass it to the function on its right so that x |&gt; f(y) (pronounced as x then f(y)) is equivalent to f(x, y) and x |&gt; f(y) |&gt; g(z) (pronounced as x then f(y) then g(z)) is equivalent to g(f(x, y), z)\n\nThe base R pipe operator |&gt; was introduced in R 4.1.0 in 2021 while the tidyverse magrittr pipe operator %&gt;% was introduced in 2014. Using |&gt; instead of %&gt;% makes our code run when we don’t use tidyverse\n\n10.2.4 Row Functions\n\nThe following filter() statements are equivalent:\n\nfilter(ds, var == 1 or var == 2)\nfilter(ds, var == 1 | var == 2)\nfilter(ds, var %in% c(1,2))\n\n\nThe following filter() statements are equivalent:\n\nfilter(ds, var == 1 and var == 2)\nfilter(ds, var == 1, var == 2)\n\n\nThe following arrange() statements order data differently\n\n\narrange(ds, var) ascendant order\n\narrange(ds, desc(var)) decedent order\n\n\nThe following distinct() statements return different data frames\n\n\ndistinct(ds, var1, var2) only keep columns var1 and var2\n\n\ndistinct(ds, var1, var2, .keep_all = TRUE) keep all the columns–find the first observation where var1 and var2 are distinct and discard the rest\n\n\nThe following count() statements order the results differently\n\n\ncount(ds, var1, var2) arrange results in order they are encountered\n\ncount(ds, var1, var2, sort = TRUE) arrange results in descending order of number of occurrence\n\n\n\n10.2.5 Column Functions\n\n\nmutate()\n\nInstead of adding the newly created variable to the right hand side of the data frame, we can instruct mutate() to adding before a variable using the .before attribute or after a variable using the .after attribute\nTo only keep the variables involved in the creation of the new variables, we can instruct mutate() to do so by setting the .keep = \"used\" attribute\n\n\n\nselect()\n\nselect range of variables: select(ds, var_x:var_y)\n\nselect all variables except certain range: select(ds, !var_x:var_y)\n\nselect character variables only: select(ds, where(is.character))\n\nselect variables whose name start with something: select(ds, start_with(\"m\"))\n\nselect variables whose name end with something: select(ds, end_with(\"m\"))\n\nselect variables whose name contain something: select(ds, contains(\"m\"))\n\nselect variables whose name follow some range: select(ds, num_range(\"x\", 1:3))\n\nselect and rename variable: select(ds, var1_new = var1, var2_new = var2)\n\n\n\n\nrename()\n\nto rename many columns, it is better to use janitor::clean_names() function\n\n\n\nrelocate()\n\nBy default, bring columns to left hand side of the data frame\n\nrelocate(ds, var1, .after = var2) puts var1 after var2\n\n\nrelocate(ds, var1, .before = var2) puts var1 before var2\n\n\n\n\n10.2.6 Groups Functions\n\n\ngroup_by()\n\ndivides the data into groups so that subsequent operations work on these groups\nit added a class to the dataset to indicate the grouping\n\n\n\nsummarize() or summarise()\n\nTo prevent summary statistics functions, eg, mean() to give NA due to some groups has NA (missing) values, set their argument: na.rm = TRUE\n\nThe summary statistics function n() gives the number of observations in the group\nEach summary peels off the last group. To prevent this behavior, change the default value drop_last of the .groups argument of the summary statistic function to either keep to keep all groups or drop to drop all groups\n\n\n\n`slice_` functions\n\nThe functions are: slice_head(), slice_tail(), slice_min(), slice_max(), and slice_sample()\n\nTo slice a number of rows from each group, use the n arguments, eg, n = 1\n\nTo slice percentage of rows from each group, use the prop argument, eg, prop = .1 (10%)\nTo prevent ties from showing, use with_ties = FALSE argument\n\n\n\n`.by` argument\n\nNew addition to dplyr 1.1.0 (more information at dplyr 1.1.0 blog post)\nPer-operation grouping–can be used all verbs. The advantage is that we don’t need to use the .groups argument to suppress the warning message raised by summarize() when grouping by multiple variables and we don’t need to use ungroup() when done with our summary.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Data Transformation</span>"
    ]
  },
  {
    "objectID": "src/r4ds/04-workflow-code-style.html",
    "href": "src/r4ds/04-workflow-code-style.html",
    "title": "Workflow: Code Style",
    "section": "",
    "text": "11.1 Introduction\nThis page covers code style concepts when working with R. I took note for those that were new to me or found useful to remind myself with.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Workflow: Code Style</span>"
    ]
  },
  {
    "objectID": "src/r4ds/04-workflow-code-style.html#introduction",
    "href": "src/r4ds/04-workflow-code-style.html#introduction",
    "title": "Workflow: Code Style",
    "section": "",
    "text": "Code Style & Punctuation\n\n\n\nCode style is like punctuation, when used correctly, itmakecodereadeasily.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Workflow: Code Style</span>"
    ]
  },
  {
    "objectID": "src/r4ds/04-workflow-code-style.html#styling-overview",
    "href": "src/r4ds/04-workflow-code-style.html#styling-overview",
    "title": "Workflow: Code Style",
    "section": "\n11.2 Styling Overview",
    "text": "11.2 Styling Overview\n\n11.2.1 Consistency\nAlthough there are styling guidelines (see below for example) that one can follow, it is important that a programmer pick one and stick with it to make easy for other including future self to read your work.\n\n11.2.2 Guidelines\nThere is not official styling guideline for R. However, there are different styling guidelines that one can adopt, below are some of those found by search R styling guidelines (html):\n\ntidyverse Style Guide (html) by Hadley Wickham. This is the adopted guidelines in these notes.\n\nR Style Guide (html) by Google\nR Coding Conventions (html) by Henrik Bengtsson, Assoc Professor, Dept of Statistics, University of California, Berkeley\nCoding Style (html) by Bioconductor project (website)\nR Style Guide (html) by Jean Fan (GitHub), Assistant Professor, Center for Computational Biology, Department of Biomedical Engineering, Johns Hopkins University\n\n11.2.3 Automatic\nThere are package that can be used to automatically style existing code. Below are some of those:\n\n\nstyler package (website) by Lorenz Walthert (website). After installing the package, launch RStudio’s command palette using the keyboard shortcut Ctrl+Shift+P, type styler, and select from the available commands",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Workflow: Code Style</span>"
    ]
  },
  {
    "objectID": "src/r4ds/04-workflow-code-style.html#styling-specifics",
    "href": "src/r4ds/04-workflow-code-style.html#styling-specifics",
    "title": "Workflow: Code Style",
    "section": "\n11.3 Styling Specifics",
    "text": "11.3 Styling Specifics\n\n11.3.1 Names\n\nUse meaningful names\nsnake_case is used to separate_multi_word_variables\nvariables with certain theme should start with the same common word/letter to make use of the auto-complete functionality\n\n11.3.2 Spaces\n\nExcept ^, put spaces on both sides of mathematical operators\nPut spaces on both sides of the assignment operator, &lt;-\n\n\n\n# Strive for\nz &lt;- (a + b)^2 / d\n\n# Avoid\nz&lt;-( a + b ) ^ 2/d\n\n\nDon’t put spaces inside or outside parentheses for regular function calls\nAlways put a space after a comma\n\n\n# Strive for\nmean(x, na.rm = TRUE)\n\n# Avoid\nmean (x ,na.rm=TRUE)\n\n\nIt is okay to use extra space so align things.\n\n\nflights |&gt; \n  mutate(\n    speed      = distance / air_time,\n    dep_hour   = dep_time %/% 100,\n    dep_minute = dep_time %%  100\n  )\n\n\n11.3.3 Pipes |&gt;\n\nThe roles for pipes are nicely summarized in R4DS. Most of them are copied below.\n\nPut a space before it\nIt should typically the last thing on a line. This make it easy to\n\nadd new steps\nrearrange existing steps\nmodify elements within a step\nquickly skip the verbs on the left-hand side\n\n\nAfter the first step of the pipeline, indent each line by two spaces\n\n\n# Strive for \nflights |&gt;  \n  filter(!is.na(arr_delay), !is.na(tailnum)) |&gt; \n  count(dest)\n\n# Avoid\nflights|&gt;filter(!is.na(arr_delay), !is.na(tailnum))|&gt;count(dest)\n\n\nIf piping to a function without named arguments and its arguments fit on one line,\n\nput all of them on one line.\n\n\nIf piping to a function with named arguments OR the function has not named arguments but the arguments do not fit on line,\n\nput each argument on new line indented by two spaces\nmake sure the ) is on its own line and un-indented to match the horizontal position of the function name\n\n\n\n\n# Strive for\nflights |&gt;  \n  group_by(tailnum) |&gt; \n  summarize(\n    delay = mean(arr_delay, na.rm = TRUE),\n    n = n()\n  )\n\n# Avoid\nflights |&gt;\n  group_by(\n    tailnum\n  ) |&gt; \n  summarize(delay = mean(arr_delay, na.rm = TRUE), n = n())\n\n# Avoid\nflights|&gt;\n  group_by(tailnum) |&gt; \n  summarize(\n             delay = mean(arr_delay, na.rm = TRUE), \n             n = n()\n           )\n\n# Avoid\nflights|&gt;\n  group_by(tailnum) |&gt; \n  summarize(\n  delay = mean(arr_delay, na.rm = TRUE), \n  n = n()\n  )\n\n\n\n\n\n\n\nLong Pipeline\n\n\n\nBreak long pipelines (tasks) to meaningful pipelines (sub-tasks) and save the intermediate steps. This will make the code more readable and easy to check and debug.\n\n\n\n11.3.4 ggplot2\n\nThe same rules from pipe can be applied to ggplot2.\n\nflights |&gt; \n  group_by(dest) |&gt; \n  summarize(\n    distance = mean(distance),\n    speed = mean(distance / air_time, na.rm = TRUE)\n  ) |&gt; \n  ggplot(aes(x = distance, y = speed)) +\n  geom_smooth(\n    method = \"loess\",\n    span = 0.5,\n    se = FALSE, \n    color = \"white\", \n    linewidth = 4\n  ) +\n  geom_point()\n\n\n11.3.5 Sectioning Comments\nWhen writing long scripts, it is advisable to break the code into sections and using sectioning comments to label them. The RStudio keyboard shortcut to create such comment is Cnrl+Shift+R.\n\n# Load data --------------------------------------\n\n# Plot data --------------------------------------",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Workflow: Code Style</span>"
    ]
  },
  {
    "objectID": "src/r4ds/05-data-tidying.html",
    "href": "src/r4ds/05-data-tidying.html",
    "title": "Data Tidying",
    "section": "",
    "text": "12.1 Introduction\nThis page explains how use the tidyr package to put data in tidy form where:\nPutting data in tidy form will make it easy to process using tidyverse packages.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Data Tidying</span>"
    ]
  },
  {
    "objectID": "src/r4ds/05-data-tidying.html#introduction",
    "href": "src/r4ds/05-data-tidying.html#introduction",
    "title": "Data Tidying",
    "section": "",
    "text": "each row represents an observation\neach column represents a variable\neach cell contain a single value\n\n\n\n\n\n\n\n\nData Trasformation Bottom-Line\n\n\n\nTidying is 1-to-1 process–the data takes different form but it can be put back into its original form which mean that no values are lost.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Data Tidying</span>"
    ]
  },
  {
    "objectID": "src/r4ds/05-data-tidying.html#lengthening-data-pivot_longer",
    "href": "src/r4ds/05-data-tidying.html#lengthening-data-pivot_longer",
    "title": "Data Tidying",
    "section": "\n12.2 Lengthening Data, pivot_longer\n",
    "text": "12.2 Lengthening Data, pivot_longer\n\n\n\n\n\n\n\n`pivot_longer’ Idea\n\n\n\nWhen pivoting longer, the number of the rows in the dataset increases while the number of columns decreases.\n\n\n\n12.2.1 One Variable in Column Headers\n\n12.2.1.1 Toy Dataset\nThe following toy dataset will be used to illustrate the concepts in this section. The book used tidyr::billboard dataset.\n\nds &lt;- tribble(\n  ~id, ~A, ~B_1, ~B_2,\n  \"A\", 1, 10.1, 10.2,\n  \"B\", 2, 20.1, NA,\n  \"C\", 3, NA, 30.2\n)\n\nds\n\n# A tibble: 3 × 4\n  id        A   B_1   B_2\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 A         1  10.1  10.2\n2 B         2  20.1  NA  \n3 C         3  NA    30.2\n\n\n\n12.2.1.2 Lengthen\n\nI want the values in all the columns that start with B_ to be placed into a (single) column named value. To distinguish which value belong to which column, create a new column called B_type for this purpuse.\n\n\n\n\n\n\n\nDimensions of New Dataset\n\n\n\nAssume the dimensions of the old dataset are:\n\nnumber of cols: co\nnumber of rows: ro\n\nThe dimensions of the new dataset are:\n\nnumber of cols: co - number of combined columns - 1\nnumber of rows: ro * (number of combined columns - 1)\n\n\n\n\nds_lengthen &lt;- ds |&gt; \n  pivot_longer(\n    cols = starts_with(\"B_\"),\n    names_to = \"B_type\",\n    values_to = \"value\"\n  )\n\nds_lengthen\n\n# A tibble: 6 × 4\n  id        A B_type value\n  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;\n1 A         1 B_1     10.1\n2 A         1 B_2     10.2\n3 B         2 B_1     20.1\n4 B         2 B_2     NA  \n5 C         3 B_1     NA  \n6 C         3 B_2     30.2\n\n\n\n12.2.1.3 Remove NA\nUse the argument values_drop_na = TRUE\n\nds_lengthen &lt;- ds |&gt; \n  pivot_longer(\n    cols = starts_with(\"B_\"),\n    names_to = \"B_type\",\n    values_to = \"value\",\n    values_drop_na = TRUE\n  )\n\nds_lengthen\n\n# A tibble: 4 × 4\n  id        A B_type value\n  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;\n1 A         1 B_1     10.1\n2 A         1 B_2     10.2\n3 B         2 B_1     20.1\n4 C         3 B_2     30.2\n\n\n\n12.2.1.4 Fix Cell Values\nUse the readr::parse_number() function to extract the first number from var2 variable and ignore all other text.\n\nds_lengthen &lt;- ds |&gt; \n  pivot_longer(\n    cols = starts_with(\"B_\"),\n    names_to = \"B_type\",\n    values_to = \"value\",\n    values_drop_na = TRUE\n  ) |&gt; \n  mutate(\n    B_type = readr::parse_number(B_type)\n  )\n\nds_lengthen\n\n# A tibble: 4 × 4\n  id        A B_type value\n  &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;\n1 A         1      1  10.1\n2 A         1      2  10.2\n3 B         2      1  20.1\n4 C         3      2  30.2\n\n\n\n12.2.2 Multiple Variables in Column Headers\n\n12.2.2.1 Toy Dataset\nThe following toy dataset will be used to illustrate the concepts in this section. The book used tidyr::who2 dataset.\n\nds2 &lt;- tribble(\n  ~id, ~A, ~B1_C1, ~B1_C2, ~B2_C1, ~B2_C2,\n  \"A\", 1, 10.11, 10.12, 10.21, 10.22,\n  \"B\", 2, 20.11, 20.12, NA, 20.22,\n  \"C\", 3, 30.11, NA, 30.21, 30.22\n)\n\nds2\n\n# A tibble: 3 × 6\n  id        A B1_C1 B1_C2 B2_C1 B2_C2\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 A         1  10.1  10.1  10.2  10.2\n2 B         2  20.1  20.1  NA    20.2\n3 C         3  30.1  NA    30.2  30.2\n\n\n\n12.2.2.2 Lengthening w/o Seperating Variables\n\nds_lengthen &lt;- ds2 |&gt; \n  pivot_longer(\n    cols = starts_with(\"B\"),\n    names_to = \"B_C\",\n    values_to = \"value\"\n  )\n\nds_lengthen\n\n# A tibble: 12 × 4\n   id        A B_C   value\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;\n 1 A         1 B1_C1  10.1\n 2 A         1 B1_C2  10.1\n 3 A         1 B2_C1  10.2\n 4 A         1 B2_C2  10.2\n 5 B         2 B1_C1  20.1\n 6 B         2 B1_C2  20.1\n 7 B         2 B2_C1  NA  \n 8 B         2 B2_C2  20.2\n 9 C         3 B1_C1  30.1\n10 C         3 B1_C2  NA  \n11 C         3 B2_C1  30.2\n12 C         3 B2_C2  30.2\n\n\n\n12.2.2.3 Lengthening w/ Seperating Variables\n\nds_lengthen &lt;- ds2 |&gt; \n  pivot_longer(\n    cols = !(id:A),\n    names_sep = \"_\",\n    names_to = c(\"B\", \"C\"),\n    values_to = \"value\"\n  )\n\nds_lengthen\n\n# A tibble: 12 × 5\n   id        A B     C     value\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n 1 A         1 B1    C1     10.1\n 2 A         1 B1    C2     10.1\n 3 A         1 B2    C1     10.2\n 4 A         1 B2    C2     10.2\n 5 B         2 B1    C1     20.1\n 6 B         2 B1    C2     20.1\n 7 B         2 B2    C1     NA  \n 8 B         2 B2    C2     20.2\n 9 C         3 B1    C1     30.1\n10 C         3 B1    C2     NA  \n11 C         3 B2    C1     30.2\n12 C         3 B2    C2     30.2\n\n\n\n12.2.2.4 Dropping NA\n\nds_lengthen &lt;- ds2 |&gt; \n  pivot_longer(\n    cols = !(id:A),\n    names_sep = \"_\",\n    names_to = c(\"B\", \"C\"),\n    values_to = \"value\",\n    values_drop_na = TRUE\n  )\n\nds_lengthen\n\n# A tibble: 10 × 5\n   id        A B     C     value\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n 1 A         1 B1    C1     10.1\n 2 A         1 B1    C2     10.1\n 3 A         1 B2    C1     10.2\n 4 A         1 B2    C2     10.2\n 5 B         2 B1    C1     20.1\n 6 B         2 B1    C2     20.1\n 7 B         2 B2    C2     20.2\n 8 C         3 B1    C1     30.1\n 9 C         3 B2    C1     30.2\n10 C         3 B2    C2     30.2\n\n\n\n12.2.3 Data and Variable Names in Colmnn Headers\n\n12.2.3.1 Toy Dataset\nThe following toy dataset will be used to illustrate the concepts in this section. The book used tidyr::household dataset.\n\nds3 &lt;- tribble(\n  ~id, ~child1_name, ~child1_age, ~child2_name, ~child2_age,\n  \"A\", \"A1\", 11, \"A2\", 12,\n  \"B\", \"B1\", 21, NA, NA,\n  \"C\", NA, NA, \"C2\", 32\n)\n\nds3\n\n# A tibble: 3 × 5\n  id    child1_name child1_age child2_name child2_age\n  &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;\n1 A     A1                  11 A2                  12\n2 B     B1                  21 &lt;NA&gt;                NA\n3 C     &lt;NA&gt;                NA C2                  32\n\n\n\n12.2.3.2 Lengthening w/o Removing NA\n\nds_lengthen &lt;- ds3 |&gt; \n  pivot_longer(\n    cols = starts_with(\"child\"),\n    names_sep = \"_\",\n    names_to = c(\"child\", \".value\")\n  )\n\nds_lengthen\n\n# A tibble: 6 × 4\n  id    child  name    age\n  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;\n1 A     child1 A1       11\n2 A     child2 A2       12\n3 B     child1 B1       21\n4 B     child2 &lt;NA&gt;     NA\n5 C     child1 &lt;NA&gt;     NA\n6 C     child2 C2       32\n\n\n\n12.2.3.3 Lengthening w Removing NA\n\nds_lengthen &lt;- ds3 |&gt; \n  pivot_longer(\n    cols = starts_with(\"child\"),\n    names_sep = \"_\",\n    names_to = c(\"child\", \".value\"),\n    values_drop_na = TRUE\n  )\n\nds_lengthen\n\n# A tibble: 4 × 4\n  id    child  name    age\n  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;\n1 A     child1 A1       11\n2 A     child2 A2       12\n3 B     child1 B1       21\n4 C     child2 C2       32\n\n\n\n12.2.3.4 Fixing Cell Values\n\nds_lengthen &lt;- ds3 |&gt; \n  pivot_longer(\n    cols = starts_with(\"child\"),\n    names_sep = \"_\",\n    names_to = c(\"child\", \".value\"),\n    values_drop_na = TRUE\n  ) |&gt; \n  mutate(\n    child = readr::parse_number(child)\n  )\n\nds_lengthen\n\n# A tibble: 4 × 4\n  id    child name    age\n  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;\n1 A         1 A1       11\n2 A         2 A2       12\n3 B         1 B1       21\n4 C         2 C2       32",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Data Tidying</span>"
    ]
  },
  {
    "objectID": "src/r4ds/05-data-tidying.html#widening-data-pivot-wider",
    "href": "src/r4ds/05-data-tidying.html#widening-data-pivot-wider",
    "title": "Data Tidying",
    "section": "\n12.3 Widening Data, pivot-wider\n",
    "text": "12.3 Widening Data, pivot-wider\n\n\n\n\n\n\n\n`pivot_wider’ Idea\n\n\n\nWhen pivoting wider, the number of the columns in the dataset increases while the number of rows decreases.\n\n\n\n12.3.1 No Missing Values\n\n12.3.1.1 Toy Dataset\nNotice that each unique value in the id column has a single value for each of the unique values in the M column.\n\nds &lt;- tribble(\n  ~id, ~M, ~V,\n  \"A\", \"M1\", 10,\n  \"A\", \"M2\", 11,\n  \"B\", \"M1\", 20,\n  \"B\", \"M2\", 21,\n  \"C\", \"M1\", 30,\n  \"C\", \"M2\", 31\n)\n\nds\n\n# A tibble: 6 × 3\n  id    M         V\n  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n1 A     M1       10\n2 A     M2       11\n3 B     M1       20\n4 B     M2       21\n5 C     M1       30\n6 C     M2       31\n\n\n\n12.3.1.2 Widenning\n\nds_widen &lt;- ds |&gt; \n  pivot_wider(\n    names_from = M,\n    values_from = V\n  )\n\nds_widen\n\n# A tibble: 3 × 3\n  id       M1    M2\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 A        10    11\n2 B        20    21\n3 C        30    31\n\n\n\n12.3.2 Missing Values\n\n12.3.2.1 Toy Dataset\nNotice that NOT each unique value in the id column has a single value for each of the unique values in the M column–B does not have value for the M2 value.\n\nds &lt;- tribble(\n  ~id, ~M, ~V,\n  \"A\", \"M1\", 10,\n  \"A\", \"M2\", 11,\n  \"B\", \"M1\", 20,\n  \"C\", \"M1\", 30,\n  \"C\", \"M2\", 31\n)\n\nds\n\n# A tibble: 5 × 3\n  id    M         V\n  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n1 A     M1       10\n2 A     M2       11\n3 B     M1       20\n4 C     M1       30\n5 C     M2       31\n\n\n\n12.3.2.2 Widenning\nNotice that B observation will be assigned NA as its value in the M2 column.\n\nds_widen &lt;- ds |&gt; \n  pivot_wider(\n    names_from = M,\n    values_from = V\n  )\n\nds_widen\n\n# A tibble: 3 × 3\n  id       M1    M2\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 A        10    11\n2 B        20    NA\n3 C        30    31\n\n\n\n12.3.3 Duplicate Values\n\n12.3.3.1 Toy Dataset\nNotice that NOT each unique value in the id column has a single value for each of the unique values in the M column–B has multiple value for M2.\n\nds &lt;- tribble(\n  ~id, ~M, ~V,\n  \"A\", \"M1\", 10,\n  \"A\", \"M2\", 11,\n  \"B\", \"M1\", 20,\n  \"B\", \"M2\", 21,\n  \"B\", \"M2\", 22,\n  \"C\", \"M1\", 30,\n  \"C\", \"M2\", 31\n)\n\nds\n\n# A tibble: 7 × 3\n  id    M         V\n  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n1 A     M1       10\n2 A     M2       11\n3 B     M1       20\n4 B     M2       21\n5 B     M2       22\n6 C     M1       30\n7 C     M2       31\n\n\n\n12.3.3.2 Widenning\nNotice that the generated values are list-cols–see the warning message for details.\n\nds_widen &lt;- ds |&gt; \n  pivot_wider(\n    names_from = M,\n    values_from = V\n  )\n\nds_widen\n\n# A tibble: 3 × 3\n  id    M1        M2       \n  &lt;chr&gt; &lt;list&gt;    &lt;list&gt;   \n1 A     &lt;dbl [1]&gt; &lt;dbl [1]&gt;\n2 B     &lt;dbl [1]&gt; &lt;dbl [2]&gt;\n3 C     &lt;dbl [1]&gt; &lt;dbl [1]&gt;",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Data Tidying</span>"
    ]
  },
  {
    "objectID": "src/r4ds/05-data-tidying.html#reference",
    "href": "src/r4ds/05-data-tidying.html#reference",
    "title": "Data Tidying",
    "section": "\n12.4 Reference",
    "text": "12.4 Reference\n\nWickham, H. . (2014). Tidy Data. Journal of Statistical Software, 59(10), 1–23. https://doi.org/10.18637/jss.v059.i10 (webpage)\n\ndetails the history and underlying theory behind tidy data",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Data Tidying</span>"
    ]
  },
  {
    "objectID": "src/r4ds/06-workflow-scripts-and-projects.html",
    "href": "src/r4ds/06-workflow-scripts-and-projects.html",
    "title": "Workflow: Scripts & Projects",
    "section": "",
    "text": "13.1 Introduction\nThis chapter is about how to organize project files.",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Workflow: Scripts & Projects</span>"
    ]
  },
  {
    "objectID": "src/r4ds/06-workflow-scripts-and-projects.html#diamond-example",
    "href": "src/r4ds/06-workflow-scripts-and-projects.html#diamond-example",
    "title": "Workflow: Scripts & Projects",
    "section": "\n13.2 Diamond Example",
    "text": "13.2 Diamond Example\n\ndiamonds |&gt; \n  ggplot(aes(x = carat, y = price)) +\n  geom_hex()\n\n\n\n\n\n\n# ggsave(\"figures/diamonds.png\")\n\n# write_csv(diamonds, \"data/diamonds.csv\")",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Workflow: Scripts & Projects</span>"
    ]
  },
  {
    "objectID": "src/r4ds/07-data-import.html",
    "href": "src/r4ds/07-data-import.html",
    "title": "Data Import",
    "section": "",
    "text": "14.1 Introduction",
    "crumbs": [
      "R for Data Science (2e)",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Data Import</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html",
    "href": "src/projects/topic-modeling-r.html",
    "title": "Topic Modeling in R",
    "section": "",
    "text": "Introduction\nAn attempt to understand Sherlock Holmes short stories found in Adventures of Sherlock Holmes book by Arthur Conan Doyle. After inspecting the table of content, the book seems to have 12 stories, one story per chapter.",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#download-book",
    "href": "src/projects/topic-modeling-r.html#download-book",
    "title": "Topic Modeling in R",
    "section": "Download Book",
    "text": "Download Book\n\n# Download the book, each line of the book is read into a separate row\nsherlock_raw &lt;- gutenberg_download(48320)\ndim(sherlock_raw)\n\n[1] 12350     2\n\nhead(sherlock_raw)\n\n# A tibble: 6 × 2\n  gutenberg_id text                           \n         &lt;int&gt; &lt;chr&gt;                          \n1        48320 \"ADVENTURES OF SHERLOCK HOLMES\"\n2        48320 \"\"                             \n3        48320 \"\"                             \n4        48320 \"\"                             \n5        48320 \"\"                             \n6        48320 \"[Illustration:\"               \n\ntail(sherlock_raw)\n\n# A tibble: 6 × 2\n  gutenberg_id text                                                  \n         &lt;int&gt; &lt;chr&gt;                                                 \n1        48320 \"  boisterious fashion, and on the whole _changed to_\"\n2        48320 \"  boisterous fashion, and on the whole\"              \n3        48320 \"\"                                                    \n4        48320 \"  Page 297\"                                          \n5        48320 \"  wrapt in the peaceful beauty _changed to_\"         \n6        48320 \"  rapt in the peaceful beauty\"",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#wrangle-label-stories",
    "href": "src/projects/topic-modeling-r.html#wrangle-label-stories",
    "title": "Topic Modeling in R",
    "section": "Wrangle: Label Stories",
    "text": "Wrangle: Label Stories\n\nsherlock &lt;- sherlock_raw %&gt;% \n  \n  # determine start of each story/chapter\n  mutate(story = ifelse(str_detect(text, \"^(A SCANDAL IN BOHEMIA|THE RED-HEADED LEAGUE|A CASE OF IDENTITY|THE BOSCOMBE VALLEY MYSTERY|THE FIVE ORANGE PIPS|THE MAN WITH THE TWISTED LIP|THE ADVENTURE OF THE BLUE CARBUNCLE|THE ADVENTURE OF THE SPECKLED BAND|THE ADVENTURE OF THE ENGINEER’S THUMB|THE ADVENTURE OF THE NOBLE BACHELOR|THE ADVENTURE OF THE BERYL CORONET|THE ADVENTURE OF THE COPPER BEECHES)$\"), text, NA)) %&gt;%\n  \n  # determine lines belonging to each story/chapter by\n  # filling down the N/A rows of story column\n  fill(story) %&gt;%\n  \n  # remove the part that does not belong to any story/chapter,\n  # i.e, the introduction\n  filter(!is.na(story)) %&gt;%\n  \n  # convert story column to factor\n  mutate(story = factor(story))",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#wrangle-put-in-tidy-format",
    "href": "src/projects/topic-modeling-r.html#wrangle-put-in-tidy-format",
    "title": "Topic Modeling in R",
    "section": "Wrangle: Put in Tidy Format",
    "text": "Wrangle: Put in Tidy Format\nThe row of text column contains multiple words/tokens. We want to put each word/token of each text row into a separate row. This makes the dataframe follows the tidy format and hence makes it easy to process.\n\ntidy_sherlock &lt;- sherlock %&gt;%\n  \n  # number the rows\n  mutate(line = row_number()) %&gt;% \n  \n  # break the text column into multiple row where each row contain one token\n  unnest_tokens(word, text) %&gt;% \n  \n  # remove the stopwords--the rows where the word column is a stopword\n  anti_join(stop_words) %&gt;% \n  \n  # remove holmes rows which might affect our topic models\n  filter(word != \"holmes\")",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#explore-tf-idf",
    "href": "src/projects/topic-modeling-r.html#explore-tf-idf",
    "title": "Topic Modeling in R",
    "section": "Explore tf-idf",
    "text": "Explore tf-idf\n\nTo see which words are important in each story/chapter, i.e.,the words that appears many times in that story but few or none in the other stories.\ntf-idf (term frequency-inverse document frequency) is a great exploratory tool before starting with topic modeling\n\n\ntidy_sherlock %&gt;% \n  \n  # count number of occurrence of words in stories\n  count(story, word, sort = TRUE) %&gt;% \n  \n  # compute and add tf, idf, and tf_idf values for words\n  bind_tf_idf(word, story, n) %&gt;% \n  \n  # group by story\n  group_by(story) %&gt;% \n  \n  # take top 10 words of each story with highest tf_idf (last column)\n  top_n(10) %&gt;% \n  \n  # unpack\n  ungroup() %&gt;% \n  \n  # turn words into factors and order them based on their tf_idf values\n  # NOTE: This will not affect order the dataframe rows which is can be\n  #   done via the arrange function\n  # NOTE: Recording the word column this way is for ggplot to visualize them\n  #   as desired from top tf_idf to lowest\n  mutate(word = reorder(word, tf_idf)) %&gt;% \n  \n  # plot\n  ggplot(aes(word, tf_idf, fill = story)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~story, scales = \"free\", ncol = 3) +\n  theme(strip.text.x = element_text(size = 5)) +\n  coord_flip()",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#implement-topic-modeling",
    "href": "src/projects/topic-modeling-r.html#implement-topic-modeling",
    "title": "Topic Modeling in R",
    "section": "Implement Topic Modeling",
    "text": "Implement Topic Modeling\nTraining the model for the topics\n\n# Convert from tidy form to quanteda form (document x term matrix)\nsherlock_stm &lt;- tidy_sherlock %&gt;% \n  count(story, word, sort = TRUE) %&gt;% \n  cast_dfm(story, word, n)\n\n# Train the model\ntopic_model &lt;- stm(sherlock_stm, K=6, init.type = \"Spectral\")\n\nBeginning Spectral Initialization \n     Calculating the gram matrix...\n     Finding anchor words...\n    ......\n     Recovering initialization...\n    .............................................................................\nInitialization complete.\n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 1 (approx. per word bound = -7.784) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 2 (approx. per word bound = -7.593, relative change = 2.457e-02) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 3 (approx. per word bound = -7.481, relative change = 1.473e-02) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 4 (approx. per word bound = -7.455, relative change = 3.472e-03) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 5 (approx. per word bound = -7.450, relative change = 7.643e-04) \nTopic 1: st, simon, lord, day, lady \n Topic 2: door, miss, house, rucastle, matter \n Topic 3: hat, goose, stone, bird, geese \n Topic 4: father, time, mccarthy, son, hand \n Topic 5: house, time, night, door, heard \n Topic 6: red, time, wilson, business, headed \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 6 (approx. per word bound = -7.449, relative change = 1.252e-04) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nCompleting Iteration 7 (approx. per word bound = -7.449, relative change = 1.169e-05) \n............\nCompleted E-Step (0 seconds). \nCompleted M-Step. \nModel Converged \n\n\n\nsummary(topic_model)\n\nA topic model with 6 topics, 12 documents and a 7707 word dictionary.\n\n\nTopic 1 Top Words:\n     Highest Prob: st, simon, lord, day, lady, found, matter \n     FREX: simon, clair, neville, lascar, opium, doran, boone \n     Lift: aloysius, ceremony, doran, millar, pennies, 2_s, aberdeen \n     Score: simon, st, clair, neville, _danseuse_, lestrade, doran \nTopic 2 Top Words:\n     Highest Prob: door, miss, house, rucastle, matter, street, lady \n     FREX: rucastle, hosmer, hunter, angel, windibank, _changed, to_ \n     Lift: _boston, _changed, _g_, _n, 20, 75, advertised \n     Score: rucastle, hosmer, angel, windibank, hunter, type, 1 \nTopic 3 Top Words:\n     Highest Prob: hat, goose, stone, bird, geese, baker, sir \n     FREX: geese, horner, ryder, henry, peterson, salesman, countess \n     Lift: battered, bet, bred, cosmopolitan, covent, cream, cusack \n     Score: goose, geese, horner, _alias_, ryder, henry, peterson \nTopic 4 Top Words:\n     Highest Prob: father, time, mccarthy, son, hand, lestrade, left \n     FREX: mccarthy, pool, boscombe, openshaw, pips, horsham, turner \n     Lift: _détour_, _lone, _métier_, _nous, _pince, _sophy, 10 \n     Score: mccarthy, pool, lestrade, boscombe, openshaw, _détour_, turner \nTopic 5 Top Words:\n     Highest Prob: house, time, night, door, heard, hand, round \n     FREX: coronet, stoner, arthur, roylott, ventilator, gems, stoke \n     Lift: _absolute_, _all_, _en, 1100, 16a, 3d, 4000 \n     Score: coronet, arthur, stoner, gems, 4000, roylott, ventilator \nTopic 6 Top Words:\n     Highest Prob: red, time, wilson, business, headed, day, league \n     FREX: wilson, league, merryweather, jones, coburg, jabez, headed \n     Lift: branch, crate, daring, director, directors, faded, merryweather \n     Score: wilson, league, merryweather, _employé_, jones, headed, coburg",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#contribution-of-words-in-topics",
    "href": "src/projects/topic-modeling-r.html#contribution-of-words-in-topics",
    "title": "Topic Modeling in R",
    "section": "Contribution of Words in Topics",
    "text": "Contribution of Words in Topics\nLooking at which words contribute the most in each topic.\n\n# Extracting betas and putting them in a tidy format\ntm_beta &lt;- tidy(topic_model)\n\n# Visualizing the top words contributing to each topic\ntm_beta %&gt;% \n  group_by(topic) %&gt;% \n  # top 10 word in each topic with higest beta (last column)\n  top_n(10) %&gt;% \n  ungroup() %&gt;% \n  # turn words into factors and order them based on their tf_idf values\n  # NOTE: This will not affect order the dataframe rows which is can be\n  #   done via the arrange function\n  # NOTE: Recording the word column this way is for ggplot to visualize them\n  #   as desired from top tf_idf to lowest\n  mutate(term = reorder(term, beta)) %&gt;% \n  ggplot(aes(term, beta, fill = topic)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~topic, scales = \"free\", ncol = 3) +\n  coord_flip()",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#distribution-of-topics-in-stories",
    "href": "src/projects/topic-modeling-r.html#distribution-of-topics-in-stories",
    "title": "Topic Modeling in R",
    "section": "Distribution of Topics in Stories",
    "text": "Distribution of Topics in Stories\nLooking at how the stories are associated with each topic and how strong each association is.\n\n# Extracting gammas and putting them in a tidy format\ntm_gamma &lt;- tidy(topic_model, matrix = \"gamma\",\n                 # use the names of the stories instead of the default numbers\n                 document_names = rownames(sherlock_stm))\n\n\n# Visualizing the number of stories belonging to each topics and the confidence\n#   of the belonging\ntm_gamma %&gt;% \n  ggplot(aes(gamma, fill = as.factor(topic))) +\n  geom_histogram(show.legend = FALSE) +\n  facet_wrap(~topic, ncol = 3)\n\n\n\n\n\n\n\n\n# Visualizing how much each topic appear in each story\ntm_gamma %&gt;% \n  ggplot(aes(topic, gamma, fill = document)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~document, scales = \"free\", ncol = 3) +\n  theme(strip.text.x = element_text(size = 5))\n\n\n\n\n\n\n\nThe model did an excellent job strongly associating the stories into one or more topics. This perfect association is rare in the world of topic modeling. The reason behind this perfect association here could be due to the small number of documents that we have.",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/topic-modeling-r.html#references",
    "href": "src/projects/topic-modeling-r.html#references",
    "title": "Topic Modeling in R",
    "section": "References",
    "text": "References\n\n\nJulia Silge’s Topic Modeling with R and tidy Data Principles (YouTube)\n\nAdventures of Sherlock Holmes book by Arthur Conan Doyle on Project Gutenberg\n\nRegular Expressions 101",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Topic Modeling in R</span>"
    ]
  },
  {
    "objectID": "src/projects/scrap_mac_registrar.html",
    "href": "src/projects/scrap_mac_registrar.html",
    "title": "WIP: Web Scrap Mac Class Schedule",
    "section": "",
    "text": "Introduction\nThis is a work-in-progress to scarp the class schedule from Macalester’s Registrar website.",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>WIP: Web Scrap Mac Class Schedule</span>"
    ]
  },
  {
    "objectID": "src/projects/scrap_mac_registrar.html#observations",
    "href": "src/projects/scrap_mac_registrar.html#observations",
    "title": "WIP: Web Scrap Mac Class Schedule",
    "section": "Observations",
    "text": "Observations\n\nURL\nThe base URL of the class schedule is\nhttps://macadmsys.macalester.edu/macssb/customPage/page/classSchedule?term=&lt;year&gt;&lt;term code&gt;\nwhere &lt;year&gt; is the latest year of academic year, 2026 for the 2025/26 year; and &lt;term code&gt; is 10 for fall and 30 for spring. For example, to get the class schedule for the fall semester of 2025/2026 academic year, the URL would be\nhttps://macadmsys.macalester.edu/macssb/customPage/page/classSchedule?term=202610\nand for the spring semester of the same year, the URL of the class schedule would be\nhttps://macadmsys.macalester.edu/macssb/customPage/page/classSchedule?term=202630\n\n\nLoad\nThe page will take few seconds to load the class schedule which be taking into consideration when scapping.",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>WIP: Web Scrap Mac Class Schedule</span>"
    ]
  },
  {
    "objectID": "src/projects/scrap_mac_registrar.html#references",
    "href": "src/projects/scrap_mac_registrar.html#references",
    "title": "WIP: Web Scrap Mac Class Schedule",
    "section": "References",
    "text": "References\n\nControl a web browser from R to web scrap static and dynamic websites using chromote (YouTube)",
    "crumbs": [
      "Projects",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>WIP: Web Scrap Mac Class Schedule</span>"
    ]
  }
]